---
title: View CloudWatch logs
weight: 20
last_reviewed_on: "2026-02-07"
review_in: 6 months
---

# View CloudWatch logs


## Access to CloudWatch

You must be on-boarded to GovWifi's AWS account in order to access CloudWatch logs.

Please speak to the GovWifi reliability engineers or the delivery manager about this process.

#### Using gds-cli

This utility is being replaced with cod-cli (https://github.com/GovWifi/cod-cli).

The remainder of this section is retained until everyone has migrated to cod-cli

## Logging in to CloudWatch

Log in to GovWifi AWS via the [`gds-cli`](https://github.com/alphagov/gds-cli) or the [AWS console](https://console.aws.amazon.com/console/home?nc2=h_ct&src=header-signin).

You must be on the VPN to log in.

### CLI login

Ensure `gds-cli` is configured on your laptop and your AWS credentials are set up. Note: it may be aliased to 'gds'

Then run:

```sh
$ gds aws govwifi -l
```

Using the AWS service search bar, navigate to the CloudWatch service section.

### Console login

1. Log in to the [AWS console](https://console.aws.amazon.com/console/home?nc2=h_ct&src=header-signin)
2. Navigate to [CloudWatch](https://eu-west-2.console.aws.amazon.com/cloudwatch/home?region=eu-west-2#)
3. Choose [“Log groups”](https://eu-west-2.console.aws.amazon.com/cloudwatch/home?region=eu-west-2#logsV2:log-groups) from the “Logs” sidebar. You can also use [“Insights”](https://eu-west-2.console.aws.amazon.com/cloudwatch/home?region=eu-west-2#logsV2:logs-insights) which is a log aggregation tool in CloudWatch.

You can read more about the CloudWatch Insights query DSL [here](https://docs.aws.amazon.com/AmazonCloudWatch/latest/logs/CWL_QuerySyntax.html).

## CloudWatch logs

CloudWatch contains unstructured system and application logs for GovWifi's APIs and infrastructure components.

Since the service is region-based, make sure you're reviewing logs for the correct region by selecting the relevant region from the AWS service bar.

### Application log types

The application log group naming is inconsistent. It roughly uses the following convention:

```
<environment>-<service>-log-group
```

|   Service/API  | Environment |                  Log group                 |
|----------------|-------------|--------------------------------------------|
| FreeRADIUS     | Development | `frontend`                                   |
|                | Staging     | `frontend`                                   |
|                | Production  | `frontend`                                   |
| Admin          | Development | `development-admin-log-group`                |
|                | Staging     | `staging-admin-log-group`                    |
|                | Production  | `wifi-admin-log-group`                       |
| Authentication | Development | `development-authentication-api-docker-log-group` |
|                | Staging     | `staging-authentication-api-docker-logs`      |
|                | Production  | `wifi-authentication-api-docker-logs`         |
| User Sign-up   | Development | `development-user-signup-api-docker-log-group`   |
|                | Staging     | `staging-user-signup-api-docker-log-group`   |
|                | Production  | `wifi-user-signup-api-docker-log-group`      |
|                | Production  | `wifi-user-signup-api-docker-log-group`      |
| Logging        | Development | `development-logging-api-docker-log-group`       |
|                | Staging     | `staging-logging-api-docker-log-group`          |
|                | Production  | `wifi-logging-api-docker-log-group`          |
| Grafana        | Development | `development-grafana-log-group`                  |
|                | Staging     | `staging-grafana-log-group`                     |
|                | Production  | `wifi-grafana-log-group`                     |
| Prometheus     | Development | `development-prometheus-log-group`               |
|                | Staging     | `staging-prometheus-log-group`               |
|                | Production  | `wifi-prometheus-log-group`                  |

**Note**:

- "Production" is referred to as "wifi" throughout the infrastructure. So `wifi-admin-log-group` refers to the Production Admin API log group.
- We have deprecated the <staging | wifi>-frontend-docker-log-group groups since moving the Frontend ECS clusters from EC2 instances to ECS Fargate.

### System log types

System logs for EC2 instances follow a separate pattern:

```
<environment>-<instance name>/var/log/<log-type.log>
```

|  EC2 instance  | Environment |                  Log group                 |
|----------------|-------------|--------------------------------------------|
| Bastion        | Development | `development-bastion/var/log/*`                   |
|                | Staging     | `staging-bastion/var/log/*`                |
|                | Production  | `wifi-bastion/var/log/*`                   |
| Frontend ECS cluster | Development | `development/var/log/*`                      |
|                       | Staging | `staging/var/log/*`                      |
|                | Production  | `wifi/var/log/*`                           |

**Note**: The Frontend ECS clusters run on Fargate and follow this naming pattern: `/aws/ecs/containerinsights/frontend-fargate/*`


### Log retention
Log retention policies are set for each log group. The default retention period is 30 days, but some log groups may have different retention settings based on their importance and usage.
For example, Frontend, Admin, Authentication, User Sign-up, and Logging API logs are retained for 90 days in cloudwatch, logs older than this are archived, via Kinases Firehose subscripts, to S3 for 12 months.

### Searching logs
You can search logs using the CloudWatch Logs Insights feature, which allows you to run queries against your log data, for data less than 90 days old. For logs older than 90 days, you will need to access the archived logs by querying using the Athena service.
For more information on using Athena to query archived logs, with some example queries, please refer to the [Log Management documentation](https://github.com/GovWifi/govwifi-terraform/blob/master/log-management/README.md).
** Please note **
To manage costs associated with using Athena, ensure that you limit your queries to specific date ranges and log groups. Avoid running broad queries that scan large amounts of data unnecessarily, queries over 10Gb in size will be terminated.
